<!DOCTYPE html>
<html>

<head>
    <script lang='javascript'>
        let a = 0;
        let b = 0;
        let ctx = null;
        let blockWidth = 50;
        let functionName;

        class Hero {
            constructor(name, level) {
                this.name = name;
                this.level = level;
            }

            // Adding a method to the constructor
            greet() {
                return `${this.name} says hello.`;
            }
        }

        function initialize(functionName) {
            let hero = new Hero("taotao", 2);
            alert(hero.greet());
            disableArrowKey();
            let myCanvas = document.getElementById('tetrisCanvas');
            ctx = myCanvas.getContext("2d");
            ctx.fillStyle = 'red'
            ctx.strokeStyle = 'black';
            functionName(ctx, 0, 0);
        }
        function drawIShape(ctx, a, b) {
            drawBlock(ctx, a, b);
            drawBlock(ctx, a, b + 1);
            drawBlock(ctx, a, b + 2);
            drawBlock(ctx, a, b + 3)
        }
        function drawSquareShape(ctx, a, b) {
            drawBlock(ctx, a, b);
            drawBlock(ctx, a, b + 1);
            drawBlock(ctx, a + 1, b);
            drawBlock(ctx, a + 1, b + 1);
        }
        function disableArrowKey() {
            window.addEventListener("keydown", function (e) {
                // space and arrow keys
                if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {
                    e.preventDefault();
                }
            }, false);
        }
        function clearCanvas(ctx) {
            ctx.clearRect(0, 0, 1000, 1000);
        }
        function drawBlock(ctx, a, b) {
            ctx.fillRect(a * blockWidth, b * blockWidth, blockWidth, blockWidth);
            ctx.strokeRect(a * blockWidth, b * blockWidth, blockWidth, blockWidth);
        }
        function move(functionName) {
            let x = event.keyCode;
            if (b == 10) {
                drawSquareShape(ctx, 0, 0);
                //   initialize(drawIShape);
                //   move(drawSquareShape);
            }
            if (x == 37) {
                clearCanvas(ctx);
                a = a - 1;
            }
            if (x == 39) {
                clearCanvas(ctx);
                a = a + 1;
            }
            if (x == 38) {
                clearCanvas(ctx);
                b = b - 1;
            }
            if (x == 40) {
                clearCanvas(ctx);
                b = b + 1;
            }
            functionName(ctx, a, b);
        }

    </script>
</head>

<body onload='initialize(drawIShape)' onkeydown="move(drawIShape)">
    <canvas width='1000' height='1000' id='tetrisCanvas'></canvas>
</body>

</html>